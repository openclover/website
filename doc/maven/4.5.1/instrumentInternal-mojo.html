<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.11.1 from target/generated-site/xdoc/instrumentInternal-mojo.xml at 2023-10-29

 | Rendered using Apache Maven Default Skin
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 1.11.1" />
    <title>Clover Maven Plugin &#x2013; clover:instrumentInternal</title>
    <link rel="stylesheet" href="./css/maven-base.css" />
    <link rel="stylesheet" href="./css/maven-theme.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
  </head>
  <body class="composite">
    <div id="banner">
<div id="bannerLeft">Clover Maven Plugin
</div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
      <div class="xleft">
        <span id="publishDate">Last Published: 2023-10-29</span>
           | <span id="projectVersion">Version: 4.5.1</span>
      </div>
      <div class="xright">      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
       <h5>Overview</h5>
    <ul>
     <li class="none"><a href="index.html" title="Introduction">Introduction</a></li>
     <li class="none"><a href="plugin-info.html" title="Goals">Goals</a></li>
     <li class="none"><a href="usage.html" title="Usage">Usage</a></li>
     <li class="none"><a href="faq.html" title="FAQ">FAQ</a></li>
    </ul>
       <h5>Examples</h5>
    <ul>
     <li class="none"><a href="examples/simple.html" title="Simple">Simple</a></li>
     <li class="none"><a href="examples/contexts.html" title="Filter Contexts">Filter Contexts</a></li>
     <li class="none"><a href="examples/multiproject.html" title="Multiproject">Multiproject</a></li>
     <li class="none"><a href="examples/gwt.html" title="GWT">GWT</a></li>
    </ul>
       <h5>Architecture</h5>
    <ul>
     <li class="none"><a href="architecture/architecture.html" title="Overview">Overview</a></li>
     <li class="none"><a href="architecture/clover-check.html" title="Check Goal">Check Goal</a></li>
     <li class="none"><a href="architecture/clover-report.html" title="Report Goal">Report Goal</a></li>
    </ul>
       <h5>Project Documentation</h5>
    <ul>
     <li class="collapsed"><a href="project-info.html" title="Project Information">Project Information</a></li>
     <li class="collapsed"><a href="project-reports.html" title="Project Reports">Project Reports</a></li>
    </ul>
      <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
      </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">

  
    <section>
<h2><a name="clover:instrumentInternal"></a>clover:instrumentInternal</h2>
      
<p><b>Full name</b>:</p>
      
<p>org.openclover:clover-maven-plugin:4.5.1:instrumentInternal</p>
      
<p><b>Description</b>:</p>
      
<div>
<p>Instrument source roots.</p>

<p style="font-weight: bold">Note 1: Do not call this MOJO
directly. It is meant to be called in a custom forked lifecycle by
the other Clover plugin MOJOs.</p>

<p style="font-weight: bold">Note 2: We bind this mojo to the
&quot;validate&quot; phase so that it executes prior to any other mojos</p></div>
      
<p><b>Attributes</b>:</p>
      
<ul>
        
<li>Requires a Maven project to be executed.</li>
        
<li>Requires dependency resolution of artifacts in scope: <code>test</code>.</li>
        
<li>Binds by default to the <a class="externalLink" href="http://maven.apache.org/ref/current/maven-core/lifecycles.html">lifecycle phase</a>: <code>validate</code>.</li>
      </ul>
      <section>
<h3><a name="Required_Parameters"></a>Required Parameters</h3>
        
<table class="bodyTable" border="0">
          
<tr class="a">
            
<th>Name</th>
            
<th>Type</th>
            
<th>Since</th>
            
<th>Description</th>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#cloverMergeDatabase">&lt;cloverMergeDatabase&gt;</a></code></td>
            
<td><code>String</code></td>
            
<td><code>-</code></td>
            
<td>The location of the merged clover database to create when running a
report in a multimodule build.<br /><b>Default value is</b>: <code>${project.build.directory}/clover/cloverMerge.db</code>.<br /><b>User property is</b>: <code>maven.clover.cloverMergeDatabase</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#cloverOutputDirectory">&lt;cloverOutputDirectory&gt;</a></code></td>
            
<td><code>String</code></td>
            
<td><code>-</code></td>
            
<td>The directory where the Clover plugin will put all the files it
generates during the build process. For example the Clover plugin
will put instrumented sources somewhere inside this directory.<br /><b>Default value is</b>: <code>${project.build.directory}/clover</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#pluginArtifacts">&lt;pluginArtifacts&gt;</a></code></td>
            
<td><code>List</code></td>
            
<td><code>-</code></td>
            
<td>
<p>List of all artifacts for this Clover plugin provided by Maven.
This is used internally to get a handle on the Clover JAR
artifact.</p>

<p>Note: This is passed by Maven and must not be configured by the
user.</p><br /><b>Default value is</b>: <code>${plugin.artifacts}</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#project">&lt;project&gt;</a></code></td>
            
<td><code>MavenProject</code></td>
            
<td><code>-</code></td>
            
<td>
<p>The Maven project instance for the executing project.</p>

<p>Note: This is passed by Maven and must not be configured by the
user.</p><br /><b>Default value is</b>: <code>${project}</code>.<br /></td>
          </tr>
        </table>
      </section>
      <section>
<h3><a name="Optional_Parameters"></a>Optional Parameters</h3>
        
<table class="bodyTable" border="0">
          
<tr class="a">
            
<th>Name</th>
            
<th>Type</th>
            
<th>Since</th>
            
<th>Description</th>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#cloverDatabase">&lt;cloverDatabase&gt;</a></code></td>
            
<td><code>String</code></td>
            
<td><code>-</code></td>
            
<td>The location of the <a class="externalLink" href="https://openclover.org/doc/manual/latest/ant--managing-the-coverage-database.html">Clover
database</a>.<br /><b>User property is</b>: <code>maven.clover.cloverDatabase</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#cloveredArtifactExpiryInMillis">&lt;cloveredArtifactExpiryInMillis&gt;</a></code></td>
            
<td><code>long</code></td>
            
<td><code>-</code></td>
            
<td>
<p>The difference (in milliseconds) that a -clover classified
artifact can have to a non-clover classified artifact.</p>

<p>If the -clover classified artifact is more than
cloveredArtifactExpiryInMillis older than the non-clover classified
artifact, then the non-classified artifact will be used.</p>

<p>This setting defaults to 2000.</p><br /><b>Default value is</b>: <code>2000</code>.<br /><b>User property is</b>: <code>maven.clover.cloveredArtifactExpiryInMillis</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#copyExcludedFiles">&lt;copyExcludedFiles&gt;</a></code></td>
            
<td><code>boolean</code></td>
            
<td><code>-</code></td>
            
<td>If set, then the clover-maven-plugin will not copy files that were
excluded, across to the target/clover directory. This is useful if
the build is also using plugins such as the maven-gwt-plugin, that
scans for resources, and skips a step if none are found. Otherwise,
setting this to false could well cause build failures.<br /><b>Default value is</b>: <code>true</code>.<br /><b>User property is</b>: <code>maven.clover.copyExcludedFiles</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#debug">&lt;debug&gt;</a></code></td>
            
<td><code>boolean</code></td>
            
<td><code>-</code></td>
            
<td>If you wish to enable debug level logging in just the Clover
plugin, set this to true. This is useful for integrating Clover
into the build.<br /><b>Default value is</b>: <code>false</code>.<br /><b>User property is</b>: <code>maven.clover.debug</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#distributedCoverage">&lt;distributedCoverage&gt;</a></code></td>
            
<td><code>DistributedCoverage</code></td>
            
<td><code>-</code></td>
            
<td>
<p>The configuration for distributed coverage collection by
Clover.</p>

<p>If present, default values will be used and coverage will be
collected across JVMs.</p>

<p>Optional nested elements (and their defaults) of
distributedCoverage are:</p>

<ul>

<li>host - the host name of the JVM running the tests. default:
<b>localhost</b></li>

<li>port - the port that Clover can bind to in the host JVM.
default: <b>1198</b></li>

<li>numClients - the number of clients expected to attach to the
Test JVM. The test JVM will wait until numClients have connected
before continuing. default: <b>0</b></li>

<li>timeout - the amount of time to wait for a response from a
remote JVM before shunning it. default: <b>5000</b></li>

<li>retryPeriod - the amount of time a client should wait between
reconnect attempts. default: <b>1000</b></li>
</ul><br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#encoding">&lt;encoding&gt;</a></code></td>
            
<td><code>String</code></td>
            
<td><code>-</code></td>
            
<td>The character encoding to use when parsing source files.<br /><b>User property is</b>: <code>maven.clover.encoding</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#excludes">&lt;excludes&gt;</a></code></td>
            
<td><code>Set</code></td>
            
<td><code>-</code></td>
            
<td>The list of file to exclude from the instrumentation. Patterns are
resolved against source roots.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#excludesFile">&lt;excludesFile&gt;</a></code></td>
            
<td><code>String</code></td>
            
<td><code>-</code></td>
            
<td>The file containing a list of file paths, separated by new line, to
exclude from the instrumentation. Patterns are resolved against
source roots. See also <code>excludes</code> and
<code>excludesList</code><br /><b>User property is</b>: <code>maven.clover.excludesFile</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#excludesList">&lt;excludesList&gt;</a></code></td>
            
<td><code>String</code></td>
            
<td><code>-</code></td>
            
<td>The comma seperated list of file to exclude from the
instrumentation. Patterns are resolved against source roots.<br /><b>User property is</b>: <code>maven.clover.excludesList</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#flushInterval">&lt;flushInterval&gt;</a></code></td>
            
<td><code>int</code></td>
            
<td><code>-</code></td>
            
<td>When the Clover Flush Policy is set to &quot;interval&quot; or threaded this
value is the minimum period between flush operations (in
milliseconds).<br /><b>Default value is</b>: <code>500</code>.<br /><b>User property is</b>: <code>maven.clover.flushInterval</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#flushPolicy">&lt;flushPolicy&gt;</a></code></td>
            
<td><code>String</code></td>
            
<td><code>-</code></td>
            
<td>The <a class="externalLink" href="https://openclover.org/doc/manual/latest/ant--flush-policy.html">Clover
flush policy</a> to use. Valid values are <code>directed</code>,
<code>interval</code> and <code>threaded</code>.<br /><b>Default value is</b>: <code>threaded</code>.<br /><b>User property is</b>: <code>maven.clover.flushPolicy</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#groverJar">&lt;groverJar&gt;</a></code></td>
            
<td><code>File</code></td>
            
<td><code>3.1.8</code></td>
            
<td>
<p>By default, Clover Maven Plugin generates the
<code>${java.io.tmpdir}/grover*.jar</code> file during setup, which
is next being added as the dependent artifact to the build. As the
file has generated, unique name and the jar is not being removed at
the end of the build, these files can litter the temporary
directory.</p>

<p>By setting this parameter you can:</p>

<p>a) specify constant file name for generated artifact,</p>

<p>b) choose location different than ${java.io.tmpdir}.</p>

<p>However, you must ensure that:</p>

<p>a) grover.jar will not be deleted till end of the build (for
example don't put into ./target directory and next run <code>mvn
clover:setup clean</code>)</p>

<p>b) grover.jar will not be shared among builds with different
Clover Maven Plugin versions used (for example if ProjectA uses
Clover v 3.1.8 and ProjectB uses Clover v 3.1.9 then they shall
have different <code>groverJar</code> locations defined)</p><br /><b>User property is</b>: <code>maven.clover.groverJar</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#includes">&lt;includes&gt;</a></code></td>
            
<td><code>Set</code></td>
            
<td><code>-</code></td>
            
<td>The list of file to include in the instrumentation. Patterns are
resolved against source roots. Defaults are '**/*.java,
**/*.groovy' which are overwritten if &lt;includes&gt; is set by
the user<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#includesAllSourceRoots">&lt;includesAllSourceRoots&gt;</a></code></td>
            
<td><code>boolean</code></td>
            
<td><code>-</code></td>
            
<td>
<p><b>Till 3.1.11:</b> whether the Clover plugin should instrument
all source roots (for example <code>src/main/java, src/main/groovy,
target/generated-sources</code>, so including the generated
sources) or whether it should only instrument the main source root
(usually <code>src/main/java</code>).</p>

<p><b>Since 3.1.12:</b> whether the Clover plugin should instrument
all source roots (for example <code>src/main/java, src/main/groovy,
target/generated-sources</code>, so including the generated
sources) or whether it should instrument non-generated source roots
(i.e. all roots except <code>target/generated-sources/*</code>)</p><br /><b>Default value is</b>: <code>false</code>.<br /><b>User property is</b>: <code>maven.clover.includesAllSourceRoots</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#includesFile">&lt;includesFile&gt;</a></code></td>
            
<td><code>String</code></td>
            
<td><code>-</code></td>
            
<td>The file containing a list of file paths, separated by new line, to
include in the instrumentation. Patterns are resolved against
source roots. See also <code>includes</code> and
<code>includesList</code><br /><b>User property is</b>: <code>maven.clover.includesFile</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#includesList">&lt;includesList&gt;</a></code></td>
            
<td><code>String</code></td>
            
<td><code>-</code></td>
            
<td>The comma seperated list of files to include in the
instrumentation. Patterns are resolved against source roots.
Defaults are **.java which are overwritten if &lt;includes&gt; is
set by the user<br /><b>User property is</b>: <code>maven.clover.includesList</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#includesTestSourceRoots">&lt;includesTestSourceRoots&gt;</a></code></td>
            
<td><code>boolean</code></td>
            
<td><code>-</code></td>
            
<td>Whether the Clover plugin should instrument test source roots.<br /><b>Default value is</b>: <code>true</code>.<br /><b>User property is</b>: <code>maven.clover.includesTestSourceRoots</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#instrumentLambda">&lt;instrumentLambda&gt;</a></code></td>
            
<td><code>String</code></td>
            
<td><code>3.2.2</code></td>
            
<td>
<p>Define whether lambda functions shall be instrumented: Valid
values are:</p>

<ul>

<li>none - do not instrument lambda functions (note: statements
inside lambdas will become a part of a parent function)</li>

<li>expression - instrument only expression-like lambdas, e.g.
<code>(a,b) -&gt; a + b</code></li>

<li>block - instrument block lambdas, e.g. <code>() -&gt; { foo();
}</code></li>

<li>all_but_reference - instrument lambdas written in any form
except method references, e.g. <code>Math::abs</code></li>

<li>all - instrument all forms of lambda functions</li>
</ul>

<p>Default is 'all' for 3.2.2-4.0.2 and 'none' since 4.0.3.</p>

<p>IMPORTANT: Due to Clover's restrictions related with code
instrumentation and javac compiler's type inference capabilities,
you may get compilation errors when expression-like lambda
functions are passed to generic methods or types. In such case
disable instrumentation of expression-like form (i.e. use the
'none' or 'block' setting). See the <a class="externalLink" href="https://openclover.org/doc/manual/latest/kb--java-8-code-instrumented-by-clover-fails-to-compile.html">Java
8 code instrumented by Clover fails to compile</a> Knowledge Base
article for more details.</p><br /><b>Default value is</b>: <code>none</code>.<br /><b>User property is</b>: <code>maven.clover.instrumentLambda</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#instrumentation">&lt;instrumentation&gt;</a></code></td>
            
<td><code>String</code></td>
            
<td><code>-</code></td>
            
<td>
<p>The level to instrument to. Valid values are 'method' or
'statement'. Default is 'statement'.</p>

<p>Setting this to 'method' greatly reduces the overhead of
enabling Clover, however limited or no reporting is available. The
current use of setting this to method is for Test Optimization
only.</p><br /><b>Default value is</b>: <code>statement</code>.<br /><b>User property is</b>: <code>maven.clover.instrumentation</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#jdk">&lt;jdk&gt;</a></code></td>
            
<td><code>String</code></td>
            
<td><code>-</code></td>
            
<td>
<p>Which Java language level Clover shall use to parse sources.
Valid values are:</p>

<ul>

<li>1.7 (String in switch, try with resources, binary literals,
underscores in literals)</li>

<li>1.8 (lambda expressions, default methods in interfaces)</li>

<li>9 / 1.9 (module-info.java)</li>
</ul>

<p>By default Clover instruments using the highest language level
supported.</p><br /><b>User property is</b>: <code>maven.clover.jdk</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#license">&lt;license&gt;</a></code></td>
            
<td><code>String</code></td>
            
<td><code>-</code></td>
            
<td>The full Clover license String to use. If supplied, this
certificate will be used over <code>licenseLocation</code>. NB.
newline chars must be preserved. If not provided, Clover will use a
bundled license key.<br /><b>User property is</b>: <code>maven.clover.license</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#licenseLocation">&lt;licenseLocation&gt;</a></code></td>
            
<td><code>String</code></td>
            
<td><code>-</code></td>
            
<td>A Clover license file to be used by the plugin. The plugin tries to
resolve this parameter first as a resource, then as a URL, and then
as a file location on the filesystem. If not provided, Clover will
use a bundled license key.<br /><b>User property is</b>: <code>maven.clover.licenseLocation</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#methodContexts">&lt;methodContexts&gt;</a></code></td>
            
<td><code>Map</code></td>
            
<td><code>-</code></td>
            
<td>
<p>Specifies the custom method contexts to use for filtering
specific methods from Clover reports.</p>
e.g. 

<div>
<pre>
&lt;main&gt;public static void main\(String args\[\]\).*&lt;/main&gt;
</pre></div>


<p>will define the context called 'main' which will match all
public static void main methods.</p><br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#methodWithMetricsContexts">&lt;methodWithMetricsContexts&gt;</a></code></td>
            
<td><code>Set</code></td>
            
<td><code>-</code></td>
            
<td>
<p>Specifies the custom method contexts to use for filtering
specific methods from Clover reports. This is more detailed format
compared to methodContexts, which allows to set also code metrics
to be matched. Example:</p>

<div>
<pre>
&lt;methodWithMetricsContexts&gt;
    &lt;methodWithMetricsContext&gt;
        &lt;name&gt;simpleGetter&lt;/name&gt; &lt;!-- (mandatory) --&gt;
        &lt;regexp&gt;public .* get.*\(\)&lt;/regexp&gt; &lt;!-- (mandatory) --&gt;
        &lt;maxComplexity&gt;1&lt;/maxComplexity&gt; &lt;!-- at most 1 cycle (optional) --&gt;
        &lt;maxStatements&gt;1&lt;/maxStatements&gt; &lt;!-- at most 1 statement (optional) --&gt;
        &lt;maxAggregatedComplexity&gt;2&lt;/maxAggregatedComplexity&gt; &lt;!-- no more than 2 cycles including inline classes (optional) --&gt;
        &lt;maxAggregatedStatements&gt;10&lt;/maxAggregatedStatements&gt; &lt;!-- no more than 10 statements including inline classes (optional) --&gt;
    &lt;/methodWithMetricsContext&gt;
    &lt;!-- can add more methodWithMetricsContext --&gt;
&lt;/methodWithMetricsContexts&gt;
</pre></div>


<p>will define a context called 'simpleGetter' which matches all
public getXyz() methods containing at most one statement; this
statement may contain more complex logic (an anonymous inline
class) but not bigger than 9 statements.</p><br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#repositories">&lt;repositories&gt;</a></code></td>
            
<td><code>List</code></td>
            
<td><code>-</code></td>
            
<td>Remote repositories used for the project.<br /><b>Default value is</b>: <code>${project.remoteArtifactRepositories}</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#repositoryPollutionProtection">&lt;repositoryPollutionProtection&gt;</a></code></td>
            
<td><code>boolean</code></td>
            
<td><code>4.0.4</code></td>
            
<td>
<p>Try to protect your build from installing instrumented artifacts
into local ~/.m2 cache or deploying them to a binaries repository.
If this option is enabled, Clover will fail a build whenever it
detects that 'install' or 'deploy' phase is about to be called. It
will also fail a build if it detects that an artifact having
multiple classifiers (e.g. &quot;-clover-tests.jar&quot;), which are not
supported by Maven, is about to be installed under original name
(e.g. &quot;-tests.jar&quot;).</p>

<p>Please note that this flag may not protect from all possible
cases.</p><br /><b>Default value is</b>: <code>false</code>.<br /><b>User property is</b>: <code>maven.clover.repositoryPollutionProtection</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#scope">&lt;scope&gt;</a></code></td>
            
<td><code>String</code></td>
            
<td><code>-</code></td>
            
<td>When creating the clover.jar dependency, what scope to use. This
may be one of: compile, test, provided etc. If not specified -
provided will be used.<br /><b>User property is</b>: <code>maven.clover.scope</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#setTestFailureIgnore">&lt;setTestFailureIgnore&gt;</a></code></td>
            
<td><code>boolean</code></td>
            
<td><code>3.1.9</code></td>
            
<td>
<p>If set to <code>true</code>, Clover will add several properties
to the build configuration which disable a build failure for
following plugins:</p>

<ul>

<li>maven-surefire-plugin (maven.test.failure.ignore=true)</li>

<li>maven-failsafe-plugin (maven.test.failure.ignore=true)</li>

<li>maven-checkstyle-plugin (checkstyle.failOnViolation=false)</li>

<li>maven-pmd-plugin (pmd.failOnViolation=false)</li>
</ul>

<p>Thanks to this, build continues despite test failures or code
validation failures and thus it is possible to generate a Clover
coverage report for failed tests at the end of the build.</p>

<p>Note: before version 3.1.9 the <i>testFailureIgnore</i> property
was set to <i>true</i> for the forked Clover lifecycle
('instrument' goal) for 'test' and 'integration-test' phases. Since
3.1.9 it is no longer set.</p><br /><b>Default value is</b>: <code>false</code>.<br /><b>User property is</b>: <code>maven.clover.setTestFailureIgnore</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#singleCloverDatabase">&lt;singleCloverDatabase&gt;</a></code></td>
            
<td><code>boolean</code></td>
            
<td><code>-</code></td>
            
<td>If true, then a single cloverDatabase will be used for the entire
project. This flag will be ignored if a custom cloverDatabase
location is specified.<br /><b>Default value is</b>: <code>false</code>.<br /><b>User property is</b>: <code>maven.clover.singleCloverDatabase</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#skip">&lt;skip&gt;</a></code></td>
            
<td><code>boolean</code></td>
            
<td><code>-</code></td>
            
<td>A flag to indicate not to run clover for this execution. If set to
true, Clover will not be run.<br /><b>Default value is</b>: <code>false</code>.<br /><b>User property is</b>: <code>maven.clover.skip</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#skipGroverJar">&lt;skipGroverJar&gt;</a></code></td>
            
<td><code>boolean</code></td>
            
<td><code>3.1.8</code></td>
            
<td>
<p>By default, Clover Maven Plugin generates the
<code>${java.io.tmpdir}/grover*.jar</code> file during setup, which
is next being added as the dependent artifact to the build. As the
file has generated, unique name and the jar is not being removed at
the end of the build, these files can litter the temporary
directory.</p>

<p>In case when there is no Groovy code in the project, this
parameter can be set to <code>true</code> in order to disable
generation of grover.jar artifact.</p><br /><b>Default value is</b>: <code>false</code>.<br /><b>User property is</b>: <code>maven.clover.skipGroverJar</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#snapshot">&lt;snapshot&gt;</a></code></td>
            
<td><code>File</code></td>
            
<td><code>-</code></td>
            
<td>The location to store the clover snapshot file. This file needs to
persist between builds to enable Clover's build optimization
feature. If not specified, the snapshot will be stored next to the
cloverDatabase.<br /><b>User property is</b>: <code>maven.clover.snapshot</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#staleMillis">&lt;staleMillis&gt;</a></code></td>
            
<td><code>int</code></td>
            
<td><code>-</code></td>
            
<td>Sets the granularity in milliseconds of the last modification date
for testing whether a source needs reinstrumentation.<br /><b>Default value is</b>: <code>0</code>.<br /><b>User property is</b>: <code>maven.clover.staleMillis</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#statementContexts">&lt;statementContexts&gt;</a></code></td>
            
<td><code>Map</code></td>
            
<td><code>-</code></td>
            
<td>Specifies the custom statement contexts to use for filtering
specific statements from Clover reports. e.g.

<div>
<pre>
&lt;log&gt;^LOG\..*&lt;/log&gt;
</pre></div>

defines a statement context called &quot;log&quot; which matches all LOG
statements.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#testSources">&lt;testSources&gt;</a></code></td>
            
<td><code>TestSources</code></td>
            
<td><code>4.4.0</code></td>
            
<td>Specifies a custom test detector configuration. Useful in case your
tests are not following JUnit/TestNG naming convention. Example: 

<div>
<pre>
&lt;testSources&gt;
   &lt;includes&gt;
       &lt;include&gt;**/*&lt;/include&gt;
       &lt;include&gt;*WebTest.java&lt;/include&gt;
       &lt;include&gt;**/*IT.java&lt;/include&gt;
   &lt;/includes&gt;
   &lt;excludes&gt;
       &lt;exclude&gt;deprecated/**&lt;/exclude&gt;
   &lt;/excludes&gt;
   &lt;testClasses&gt;
       &lt;testClass&gt; &lt;!-- 0..N occurrences --&gt;
           &lt;name&gt;.*Test&lt;/name&gt;
           &lt;super&gt;WebTest&lt;/super&gt;
           &lt;annotation&gt;@Repeat&lt;/annotation&gt;
           &lt;package&gt;org\.openclover\..*&lt;/package&gt;
           &lt;tag&gt;@chrome&lt;/tag&gt;
           &lt;testMethods&gt; &lt;!-- 0..N occurrences --&gt;
              &lt;testMethod&gt;
                  &lt;name&gt;check.*&lt;/name&gt;
                  &lt;annotation&gt;@Test&lt;/annotation&gt;
                  &lt;tag&gt;@web&lt;/tag&gt;
                  &lt;returnType&gt;void&lt;/returnType&gt;
              &lt;/testMethod&gt;
           &lt;/testMethods&gt;
       &lt;/testClass&gt;
   &lt;/testClasses&gt;
&lt;/testSources&gt;
</pre></div>

Note: every tag is optional.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#useCloverClassifier">&lt;useCloverClassifier&gt;</a></code></td>
            
<td><code>boolean</code></td>
            
<td><code>-</code></td>
            
<td>Whether or not to include the -clover classifier on artifacts.<br /><b>Default value is</b>: <code>true</code>.<br /><b>User property is</b>: <code>maven.clover.useCloverClassifier</code>.<br /></td>
          </tr>
          
<tr class="b">
            
<td align="left"><code><a href="#useFullyQualifiedJavaLang">&lt;useFullyQualifiedJavaLang&gt;</a></code></td>
            
<td><code>boolean</code></td>
            
<td><code>-</code></td>
            
<td>Use the fully qualified package name for java.lang.* classes.<br /><b>Default value is</b>: <code>true</code>.<br /><b>User property is</b>: <code>maven.clover.useFullyQualifiedJavaLang</code>.<br /></td>
          </tr>
          
<tr class="a">
            
<td align="left"><code><a href="#waitForFlush">&lt;waitForFlush&gt;</a></code></td>
            
<td><code>boolean</code></td>
            
<td><code>-</code></td>
            
<td>
<p>If true we'll wait 2*flushInterval to ensure coverage data is
flushed to the Clover database before running any query on it.</p>

<p>Note: The only use case where you would want to turn this off is
if you're running your tests in a separate JVM. In that case the
coverage data will be flushed by default upon the JVM shutdown and
there would be no need to wait for the data to be flushed. As we
can't control whether users want to fork their tests or not, we're
offering this parameter to them.</p><br /><b>Default value is</b>: <code>true</code>.<br /><b>User property is</b>: <code>maven.clover.waitForFlush</code>.<br /></td>
          </tr>
        </table>
      </section>
      <section>
<h3><a name="Parameter_Details"></a>Parameter Details</h3>
        <section>
<h4><a name="a.3CcloverDatabase.3E"></a><b><a name="cloverDatabase">&lt;cloverDatabase&gt;</a></b></h4>
        
<div>The location of the <a class="externalLink" href="https://openclover.org/doc/manual/latest/ant--managing-the-coverage-database.html">Clover
database</a>.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.String</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.cloverDatabase</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CcloverMergeDatabase.3E"></a><b><a name="cloverMergeDatabase">&lt;cloverMergeDatabase&gt;</a></b></h4>
        
<div>The location of the merged clover database to create when running a
report in a multimodule build.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.String</code></li>
          
<li><b>Required</b>: <code>Yes</code></li>
          
<li><b>User Property</b>: <code>maven.clover.cloverMergeDatabase</code></li>
          
<li><b>Default</b>: <code>${project.build.directory}/clover/cloverMerge.db</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CcloverOutputDirectory.3E"></a><b><a name="cloverOutputDirectory">&lt;cloverOutputDirectory&gt;</a></b></h4>
        
<div>The directory where the Clover plugin will put all the files it
generates during the build process. For example the Clover plugin
will put instrumented sources somewhere inside this directory.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.String</code></li>
          
<li><b>Required</b>: <code>Yes</code></li>
          
<li><b>Default</b>: <code>${project.build.directory}/clover</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CcloveredArtifactExpiryInMillis.3E"></a><b><a name="cloveredArtifactExpiryInMillis">&lt;cloveredArtifactExpiryInMillis&gt;</a></b></h4>
        
<div>
<p>The difference (in milliseconds) that a -clover classified
artifact can have to a non-clover classified artifact.</p>

<p>If the -clover classified artifact is more than
cloveredArtifactExpiryInMillis older than the non-clover classified
artifact, then the non-classified artifact will be used.</p>

<p>This setting defaults to 2000.</p></div>
        
<ul>
          
<li><b>Type</b>: <code>long</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.cloveredArtifactExpiryInMillis</code></li>
          
<li><b>Default</b>: <code>2000</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CcopyExcludedFiles.3E"></a><b><a name="copyExcludedFiles">&lt;copyExcludedFiles&gt;</a></b></h4>
        
<div>If set, then the clover-maven-plugin will not copy files that were
excluded, across to the target/clover directory. This is useful if
the build is also using plugins such as the maven-gwt-plugin, that
scans for resources, and skips a step if none are found. Otherwise,
setting this to false could well cause build failures.</div>
        
<ul>
          
<li><b>Type</b>: <code>boolean</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.copyExcludedFiles</code></li>
          
<li><b>Default</b>: <code>true</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3Cdebug.3E"></a><b><a name="debug">&lt;debug&gt;</a></b></h4>
        
<div>If you wish to enable debug level logging in just the Clover
plugin, set this to true. This is useful for integrating Clover
into the build.</div>
        
<ul>
          
<li><b>Type</b>: <code>boolean</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.debug</code></li>
          
<li><b>Default</b>: <code>false</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CdistributedCoverage.3E"></a><b><a name="distributedCoverage">&lt;distributedCoverage&gt;</a></b></h4>
        
<div>
<p>The configuration for distributed coverage collection by
Clover.</p>

<p>If present, default values will be used and coverage will be
collected across JVMs.</p>

<p>Optional nested elements (and their defaults) of
distributedCoverage are:</p>

<ul>

<li>host - the host name of the JVM running the tests. default:
<b>localhost</b></li>

<li>port - the port that Clover can bind to in the host JVM.
default: <b>1198</b></li>

<li>numClients - the number of clients expected to attach to the
Test JVM. The test JVM will wait until numClients have connected
before continuing. default: <b>0</b></li>

<li>timeout - the amount of time to wait for a response from a
remote JVM before shunning it. default: <b>5000</b></li>

<li>retryPeriod - the amount of time a client should wait between
reconnect attempts. default: <b>1000</b></li>
</ul></div>
        
<ul>
          
<li><b>Type</b>: <code>com.atlassian.maven.plugin.clover.DistributedCoverage</code></li>
          
<li><b>Required</b>: <code>No</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3Cencoding.3E"></a><b><a name="encoding">&lt;encoding&gt;</a></b></h4>
        
<div>The character encoding to use when parsing source files.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.String</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.encoding</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3Cexcludes.3E"></a><b><a name="excludes">&lt;excludes&gt;</a></b></h4>
        
<div>The list of file to exclude from the instrumentation. Patterns are
resolved against source roots.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.util.Set</code></li>
          
<li><b>Required</b>: <code>No</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CexcludesFile.3E"></a><b><a name="excludesFile">&lt;excludesFile&gt;</a></b></h4>
        
<div>The file containing a list of file paths, separated by new line, to
exclude from the instrumentation. Patterns are resolved against
source roots. See also <code>excludes</code> and
<code>excludesList</code></div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.String</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.excludesFile</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CexcludesList.3E"></a><b><a name="excludesList">&lt;excludesList&gt;</a></b></h4>
        
<div>The comma seperated list of file to exclude from the
instrumentation. Patterns are resolved against source roots.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.String</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.excludesList</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CflushInterval.3E"></a><b><a name="flushInterval">&lt;flushInterval&gt;</a></b></h4>
        
<div>When the Clover Flush Policy is set to &quot;interval&quot; or threaded this
value is the minimum period between flush operations (in
milliseconds).</div>
        
<ul>
          
<li><b>Type</b>: <code>int</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.flushInterval</code></li>
          
<li><b>Default</b>: <code>500</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CflushPolicy.3E"></a><b><a name="flushPolicy">&lt;flushPolicy&gt;</a></b></h4>
        
<div>The <a class="externalLink" href="https://openclover.org/doc/manual/latest/ant--flush-policy.html">Clover
flush policy</a> to use. Valid values are <code>directed</code>,
<code>interval</code> and <code>threaded</code>.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.String</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.flushPolicy</code></li>
          
<li><b>Default</b>: <code>threaded</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CgroverJar.3E"></a><b><a name="groverJar">&lt;groverJar&gt;</a></b></h4>
        
<div>
<p>By default, Clover Maven Plugin generates the
<code>${java.io.tmpdir}/grover*.jar</code> file during setup, which
is next being added as the dependent artifact to the build. As the
file has generated, unique name and the jar is not being removed at
the end of the build, these files can litter the temporary
directory.</p>

<p>By setting this parameter you can:</p>

<p>a) specify constant file name for generated artifact,</p>

<p>b) choose location different than ${java.io.tmpdir}.</p>

<p>However, you must ensure that:</p>

<p>a) grover.jar will not be deleted till end of the build (for
example don't put into ./target directory and next run <code>mvn
clover:setup clean</code>)</p>

<p>b) grover.jar will not be shared among builds with different
Clover Maven Plugin versions used (for example if ProjectA uses
Clover v 3.1.8 and ProjectB uses Clover v 3.1.9 then they shall
have different <code>groverJar</code> locations defined)</p></div>
        
<ul>
          
<li><b>Type</b>: <code>java.io.File</code></li>
          
<li><b>Since</b>: <code>3.1.8</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.groverJar</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3Cincludes.3E"></a><b><a name="includes">&lt;includes&gt;</a></b></h4>
        
<div>The list of file to include in the instrumentation. Patterns are
resolved against source roots. Defaults are '**/*.java,
**/*.groovy' which are overwritten if &lt;includes&gt; is set by
the user</div>
        
<ul>
          
<li><b>Type</b>: <code>java.util.Set</code></li>
          
<li><b>Required</b>: <code>No</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CincludesAllSourceRoots.3E"></a><b><a name="includesAllSourceRoots">&lt;includesAllSourceRoots&gt;</a></b></h4>
        
<div>
<p><b>Till 3.1.11:</b> whether the Clover plugin should instrument
all source roots (for example <code>src/main/java, src/main/groovy,
target/generated-sources</code>, so including the generated
sources) or whether it should only instrument the main source root
(usually <code>src/main/java</code>).</p>

<p><b>Since 3.1.12:</b> whether the Clover plugin should instrument
all source roots (for example <code>src/main/java, src/main/groovy,
target/generated-sources</code>, so including the generated
sources) or whether it should instrument non-generated source roots
(i.e. all roots except <code>target/generated-sources/*</code>)</p></div>
        
<ul>
          
<li><b>Type</b>: <code>boolean</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.includesAllSourceRoots</code></li>
          
<li><b>Default</b>: <code>false</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CincludesFile.3E"></a><b><a name="includesFile">&lt;includesFile&gt;</a></b></h4>
        
<div>The file containing a list of file paths, separated by new line, to
include in the instrumentation. Patterns are resolved against
source roots. See also <code>includes</code> and
<code>includesList</code></div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.String</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.includesFile</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CincludesList.3E"></a><b><a name="includesList">&lt;includesList&gt;</a></b></h4>
        
<div>The comma seperated list of files to include in the
instrumentation. Patterns are resolved against source roots.
Defaults are **.java which are overwritten if &lt;includes&gt; is
set by the user</div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.String</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.includesList</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CincludesTestSourceRoots.3E"></a><b><a name="includesTestSourceRoots">&lt;includesTestSourceRoots&gt;</a></b></h4>
        
<div>Whether the Clover plugin should instrument test source roots.</div>
        
<ul>
          
<li><b>Type</b>: <code>boolean</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.includesTestSourceRoots</code></li>
          
<li><b>Default</b>: <code>true</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CinstrumentLambda.3E"></a><b><a name="instrumentLambda">&lt;instrumentLambda&gt;</a></b></h4>
        
<div>
<p>Define whether lambda functions shall be instrumented: Valid
values are:</p>

<ul>

<li>none - do not instrument lambda functions (note: statements
inside lambdas will become a part of a parent function)</li>

<li>expression - instrument only expression-like lambdas, e.g.
<code>(a,b) -&gt; a + b</code></li>

<li>block - instrument block lambdas, e.g. <code>() -&gt; { foo();
}</code></li>

<li>all_but_reference - instrument lambdas written in any form
except method references, e.g. <code>Math::abs</code></li>

<li>all - instrument all forms of lambda functions</li>
</ul>

<p>Default is 'all' for 3.2.2-4.0.2 and 'none' since 4.0.3.</p>

<p>IMPORTANT: Due to Clover's restrictions related with code
instrumentation and javac compiler's type inference capabilities,
you may get compilation errors when expression-like lambda
functions are passed to generic methods or types. In such case
disable instrumentation of expression-like form (i.e. use the
'none' or 'block' setting). See the <a class="externalLink" href="https://openclover.org/doc/manual/latest/kb--java-8-code-instrumented-by-clover-fails-to-compile.html">Java
8 code instrumented by Clover fails to compile</a> Knowledge Base
article for more details.</p></div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.String</code></li>
          
<li><b>Since</b>: <code>3.2.2</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.instrumentLambda</code></li>
          
<li><b>Default</b>: <code>none</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3Cinstrumentation.3E"></a><b><a name="instrumentation">&lt;instrumentation&gt;</a></b></h4>
        
<div>
<p>The level to instrument to. Valid values are 'method' or
'statement'. Default is 'statement'.</p>

<p>Setting this to 'method' greatly reduces the overhead of
enabling Clover, however limited or no reporting is available. The
current use of setting this to method is for Test Optimization
only.</p></div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.String</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.instrumentation</code></li>
          
<li><b>Default</b>: <code>statement</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3Cjdk.3E"></a><b><a name="jdk">&lt;jdk&gt;</a></b></h4>
        
<div>
<p>Which Java language level Clover shall use to parse sources.
Valid values are:</p>

<ul>

<li>1.7 (String in switch, try with resources, binary literals,
underscores in literals)</li>

<li>1.8 (lambda expressions, default methods in interfaces)</li>

<li>9 / 1.9 (module-info.java)</li>
</ul>

<p>By default Clover instruments using the highest language level
supported.</p></div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.String</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.jdk</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3Clicense.3E"></a><b><a name="license">&lt;license&gt;</a></b></h4>
        
<div>The full Clover license String to use. If supplied, this
certificate will be used over <code>licenseLocation</code>. NB.
newline chars must be preserved. If not provided, Clover will use a
bundled license key.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.String</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.license</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3ClicenseLocation.3E"></a><b><a name="licenseLocation">&lt;licenseLocation&gt;</a></b></h4>
        
<div>A Clover license file to be used by the plugin. The plugin tries to
resolve this parameter first as a resource, then as a URL, and then
as a file location on the filesystem. If not provided, Clover will
use a bundled license key.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.String</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.licenseLocation</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CmethodContexts.3E"></a><b><a name="methodContexts">&lt;methodContexts&gt;</a></b></h4>
        
<div>
<p>Specifies the custom method contexts to use for filtering
specific methods from Clover reports.</p>
e.g. 

<div>
<pre>
&lt;main&gt;public static void main\(String args\[\]\).*&lt;/main&gt;
</pre></div>


<p>will define the context called 'main' which will match all
public static void main methods.</p></div>
        
<ul>
          
<li><b>Type</b>: <code>java.util.Map</code></li>
          
<li><b>Required</b>: <code>No</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CmethodWithMetricsContexts.3E"></a><b><a name="methodWithMetricsContexts">&lt;methodWithMetricsContexts&gt;</a></b></h4>
        
<div>
<p>Specifies the custom method contexts to use for filtering
specific methods from Clover reports. This is more detailed format
compared to methodContexts, which allows to set also code metrics
to be matched. Example:</p>

<div>
<pre>
&lt;methodWithMetricsContexts&gt;
    &lt;methodWithMetricsContext&gt;
        &lt;name&gt;simpleGetter&lt;/name&gt; &lt;!-- (mandatory) --&gt;
        &lt;regexp&gt;public .* get.*\(\)&lt;/regexp&gt; &lt;!-- (mandatory) --&gt;
        &lt;maxComplexity&gt;1&lt;/maxComplexity&gt; &lt;!-- at most 1 cycle (optional) --&gt;
        &lt;maxStatements&gt;1&lt;/maxStatements&gt; &lt;!-- at most 1 statement (optional) --&gt;
        &lt;maxAggregatedComplexity&gt;2&lt;/maxAggregatedComplexity&gt; &lt;!-- no more than 2 cycles including inline classes (optional) --&gt;
        &lt;maxAggregatedStatements&gt;10&lt;/maxAggregatedStatements&gt; &lt;!-- no more than 10 statements including inline classes (optional) --&gt;
    &lt;/methodWithMetricsContext&gt;
    &lt;!-- can add more methodWithMetricsContext --&gt;
&lt;/methodWithMetricsContexts&gt;
</pre></div>


<p>will define a context called 'simpleGetter' which matches all
public getXyz() methods containing at most one statement; this
statement may contain more complex logic (an anonymous inline
class) but not bigger than 9 statements.</p></div>
        
<ul>
          
<li><b>Type</b>: <code>java.util.Set</code></li>
          
<li><b>Required</b>: <code>No</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CpluginArtifacts.3E"></a><b><a name="pluginArtifacts">&lt;pluginArtifacts&gt;</a></b></h4>
        
<div>
<p>List of all artifacts for this Clover plugin provided by Maven.
This is used internally to get a handle on the Clover JAR
artifact.</p>

<p>Note: This is passed by Maven and must not be configured by the
user.</p></div>
        
<ul>
          
<li><b>Type</b>: <code>java.util.List</code></li>
          
<li><b>Required</b>: <code>Yes</code></li>
          
<li><b>Default</b>: <code>${plugin.artifacts}</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3Cproject.3E"></a><b><a name="project">&lt;project&gt;</a></b></h4>
        
<div>
<p>The Maven project instance for the executing project.</p>

<p>Note: This is passed by Maven and must not be configured by the
user.</p></div>
        
<ul>
          
<li><b>Type</b>: <code>org.apache.maven.project.MavenProject</code></li>
          
<li><b>Required</b>: <code>Yes</code></li>
          
<li><b>Default</b>: <code>${project}</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3Crepositories.3E"></a><b><a name="repositories">&lt;repositories&gt;</a></b></h4>
        
<div>Remote repositories used for the project.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.util.List</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>Default</b>: <code>${project.remoteArtifactRepositories}</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CrepositoryPollutionProtection.3E"></a><b><a name="repositoryPollutionProtection">&lt;repositoryPollutionProtection&gt;</a></b></h4>
        
<div>
<p>Try to protect your build from installing instrumented artifacts
into local ~/.m2 cache or deploying them to a binaries repository.
If this option is enabled, Clover will fail a build whenever it
detects that 'install' or 'deploy' phase is about to be called. It
will also fail a build if it detects that an artifact having
multiple classifiers (e.g. &quot;-clover-tests.jar&quot;), which are not
supported by Maven, is about to be installed under original name
(e.g. &quot;-tests.jar&quot;).</p>

<p>Please note that this flag may not protect from all possible
cases.</p></div>
        
<ul>
          
<li><b>Type</b>: <code>boolean</code></li>
          
<li><b>Since</b>: <code>4.0.4</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.repositoryPollutionProtection</code></li>
          
<li><b>Default</b>: <code>false</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3Cscope.3E"></a><b><a name="scope">&lt;scope&gt;</a></b></h4>
        
<div>When creating the clover.jar dependency, what scope to use. This
may be one of: compile, test, provided etc. If not specified -
provided will be used.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.lang.String</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.scope</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CsetTestFailureIgnore.3E"></a><b><a name="setTestFailureIgnore">&lt;setTestFailureIgnore&gt;</a></b></h4>
        
<div>
<p>If set to <code>true</code>, Clover will add several properties
to the build configuration which disable a build failure for
following plugins:</p>

<ul>

<li>maven-surefire-plugin (maven.test.failure.ignore=true)</li>

<li>maven-failsafe-plugin (maven.test.failure.ignore=true)</li>

<li>maven-checkstyle-plugin (checkstyle.failOnViolation=false)</li>

<li>maven-pmd-plugin (pmd.failOnViolation=false)</li>
</ul>

<p>Thanks to this, build continues despite test failures or code
validation failures and thus it is possible to generate a Clover
coverage report for failed tests at the end of the build.</p>

<p>Note: before version 3.1.9 the <i>testFailureIgnore</i> property
was set to <i>true</i> for the forked Clover lifecycle
('instrument' goal) for 'test' and 'integration-test' phases. Since
3.1.9 it is no longer set.</p></div>
        
<ul>
          
<li><b>Type</b>: <code>boolean</code></li>
          
<li><b>Since</b>: <code>3.1.9</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.setTestFailureIgnore</code></li>
          
<li><b>Default</b>: <code>false</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CsingleCloverDatabase.3E"></a><b><a name="singleCloverDatabase">&lt;singleCloverDatabase&gt;</a></b></h4>
        
<div>If true, then a single cloverDatabase will be used for the entire
project. This flag will be ignored if a custom cloverDatabase
location is specified.</div>
        
<ul>
          
<li><b>Type</b>: <code>boolean</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.singleCloverDatabase</code></li>
          
<li><b>Default</b>: <code>false</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3Cskip.3E"></a><b><a name="skip">&lt;skip&gt;</a></b></h4>
        
<div>A flag to indicate not to run clover for this execution. If set to
true, Clover will not be run.</div>
        
<ul>
          
<li><b>Type</b>: <code>boolean</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.skip</code></li>
          
<li><b>Default</b>: <code>false</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CskipGroverJar.3E"></a><b><a name="skipGroverJar">&lt;skipGroverJar&gt;</a></b></h4>
        
<div>
<p>By default, Clover Maven Plugin generates the
<code>${java.io.tmpdir}/grover*.jar</code> file during setup, which
is next being added as the dependent artifact to the build. As the
file has generated, unique name and the jar is not being removed at
the end of the build, these files can litter the temporary
directory.</p>

<p>In case when there is no Groovy code in the project, this
parameter can be set to <code>true</code> in order to disable
generation of grover.jar artifact.</p></div>
        
<ul>
          
<li><b>Type</b>: <code>boolean</code></li>
          
<li><b>Since</b>: <code>3.1.8</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.skipGroverJar</code></li>
          
<li><b>Default</b>: <code>false</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3Csnapshot.3E"></a><b><a name="snapshot">&lt;snapshot&gt;</a></b></h4>
        
<div>The location to store the clover snapshot file. This file needs to
persist between builds to enable Clover's build optimization
feature. If not specified, the snapshot will be stored next to the
cloverDatabase.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.io.File</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.snapshot</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CstaleMillis.3E"></a><b><a name="staleMillis">&lt;staleMillis&gt;</a></b></h4>
        
<div>Sets the granularity in milliseconds of the last modification date
for testing whether a source needs reinstrumentation.</div>
        
<ul>
          
<li><b>Type</b>: <code>int</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.staleMillis</code></li>
          
<li><b>Default</b>: <code>0</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CstatementContexts.3E"></a><b><a name="statementContexts">&lt;statementContexts&gt;</a></b></h4>
        
<div>Specifies the custom statement contexts to use for filtering
specific statements from Clover reports. e.g.

<div>
<pre>
&lt;log&gt;^LOG\..*&lt;/log&gt;
</pre></div>

defines a statement context called &quot;log&quot; which matches all LOG
statements.</div>
        
<ul>
          
<li><b>Type</b>: <code>java.util.Map</code></li>
          
<li><b>Required</b>: <code>No</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CtestSources.3E"></a><b><a name="testSources">&lt;testSources&gt;</a></b></h4>
        
<div>Specifies a custom test detector configuration. Useful in case your
tests are not following JUnit/TestNG naming convention. Example: 

<div>
<pre>
&lt;testSources&gt;
   &lt;includes&gt;
       &lt;include&gt;**/*&lt;/include&gt;
       &lt;include&gt;*WebTest.java&lt;/include&gt;
       &lt;include&gt;**/*IT.java&lt;/include&gt;
   &lt;/includes&gt;
   &lt;excludes&gt;
       &lt;exclude&gt;deprecated/**&lt;/exclude&gt;
   &lt;/excludes&gt;
   &lt;testClasses&gt;
       &lt;testClass&gt; &lt;!-- 0..N occurrences --&gt;
           &lt;name&gt;.*Test&lt;/name&gt;
           &lt;super&gt;WebTest&lt;/super&gt;
           &lt;annotation&gt;@Repeat&lt;/annotation&gt;
           &lt;package&gt;org\.openclover\..*&lt;/package&gt;
           &lt;tag&gt;@chrome&lt;/tag&gt;
           &lt;testMethods&gt; &lt;!-- 0..N occurrences --&gt;
              &lt;testMethod&gt;
                  &lt;name&gt;check.*&lt;/name&gt;
                  &lt;annotation&gt;@Test&lt;/annotation&gt;
                  &lt;tag&gt;@web&lt;/tag&gt;
                  &lt;returnType&gt;void&lt;/returnType&gt;
              &lt;/testMethod&gt;
           &lt;/testMethods&gt;
       &lt;/testClass&gt;
   &lt;/testClasses&gt;
&lt;/testSources&gt;
</pre></div>

Note: every tag is optional.</div>
        
<ul>
          
<li><b>Type</b>: <code>com.atlassian.maven.plugin.clover.TestSources</code></li>
          
<li><b>Since</b>: <code>4.4.0</code></li>
          
<li><b>Required</b>: <code>No</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CuseCloverClassifier.3E"></a><b><a name="useCloverClassifier">&lt;useCloverClassifier&gt;</a></b></h4>
        
<div>Whether or not to include the -clover classifier on artifacts.</div>
        
<ul>
          
<li><b>Type</b>: <code>boolean</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.useCloverClassifier</code></li>
          
<li><b>Default</b>: <code>true</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CuseFullyQualifiedJavaLang.3E"></a><b><a name="useFullyQualifiedJavaLang">&lt;useFullyQualifiedJavaLang&gt;</a></b></h4>
        
<div>Use the fully qualified package name for java.lang.* classes.</div>
        
<ul>
          
<li><b>Type</b>: <code>boolean</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.useFullyQualifiedJavaLang</code></li>
          
<li><b>Default</b>: <code>true</code></li>
        </ul><hr /></section><section>
<h4><a name="a.3CwaitForFlush.3E"></a><b><a name="waitForFlush">&lt;waitForFlush&gt;</a></b></h4>
        
<div>
<p>If true we'll wait 2*flushInterval to ensure coverage data is
flushed to the Clover database before running any query on it.</p>

<p>Note: The only use case where you would want to turn this off is
if you're running your tests in a separate JVM. In that case the
coverage data will be flushed by default upon the JVM shutdown and
there would be no need to wait for the data to be flushed. As we
can't control whether users want to fork their tests or not, we're
offering this parameter to them.</p></div>
        
<ul>
          
<li><b>Type</b>: <code>boolean</code></li>
          
<li><b>Required</b>: <code>No</code></li>
          
<li><b>User Property</b>: <code>maven.clover.waitForFlush</code></li>
          
<li><b>Default</b>: <code>true</code></li>
        </ul>
      </section></section>
    </section>
  

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        Copyright &#169;      2023<a href="https://openclover.org">OpenClover.org</a>.
.      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
