<!DOCTYPE html>
<html>
<head>
    <title>OpenClover 4.4 : Why does Clover instrument classes I have excluded using the &#39;exclude&#39; element of the &#39;clover-setup &#39; task?</title>
    <link rel="stylesheet" href="../../../resources/css/bootstrap.min.css" type="text/css"/>
    <link rel="stylesheet" href="../../../resources/css/style.css" type="text/css"/>
    <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>

<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="../../../index"><img src="../../../resources/img/openclover_logo_white_40pt_alpha_with_icon.png" alt="OpenClover"/></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMainMenu" aria-controls="navbarMainMenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarMainMenu">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="../../../index">Overview</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../features">Features</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../downloads">Downloads</a></li>
                <li class="nav-item"><a class="nav-link active" aria-current="page" href="../../../documentation">Documentation</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../support">Support</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../blog">Blog</a></li>
                <!--<li><a href="../../../faq">FAQ</a></li>-->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="../../../about-us" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">About us</a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="../../../about-us">Development team</a></li>
                        <li><a class="dropdown-item" href="../../../privacy-policy">Privacy policy</a></li>
                        <li><a class="dropdown-item" href="../../../license">License information</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div id="page" class="container">
    <div id="main">
        <div id="main-header">
            <nav aria-label="breadcrumb" style="--bs-breadcrumb-divider: '&raquo;';">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="index.html">OpenClover 4.4</a>
                    </li>
                    <li class="breadcrumb-item"><span><a href="index--clover-documentation-home.html">Clover Documentation Home</a></span>
                    </li>
                    <li class="breadcrumb-item"><span><a href="faq--openclover.html">Clover FAQ</a></span>
                    </li>
                </ol>
            </nav>
        </div>

        <h1 id="title-heading" class="pagetitle">
            Why does Clover instrument classes I have excluded using the &#39;exclude&#39; element of the &#39;clover-setup &#39; task? </h1>

        <div class="alert alert-warning" role="alert">
            You are reading documentation for version 4.4.x. Check the
            <a href="../latest/faq--why-openclover-instruments-excluded-classes.html" class="alert-link">latest version</a>.
        </div>
        <div id="content" class="view">

            <div id="main-content">
                <p><strong>Q: Why does Clover instrument classes I have excluded using the</strong> <code><strong>&lt;exclude&gt;</strong></code>
                    <strong>element of the</strong>
                    <code><strong>&lt;</strong><strong><a href="ant--clover-setup.html">clover-setup</a></strong><strong>&gt;</strong></code>
                    <strong>task?</strong>There are two possible causes:</p>
                <ol>
                    <li>Cascading build files:<br/>
                        Clover uses Ant patternsets to manage the includes and excludes specified in the
                        <code>&lt;<a href="ant--clover-setup.html">clover-setup</a>&gt;</code> task. By default Ant does
                        not pass these patternsets to the sub-builds. If you are using<br/>
                        a master-build/sub-build arrangement, with compilation occuring in the sub-builds and
                        <code>&lt;<a href="ant--clover-setup.html">clover-setup</a>&gt;</code> done in the master-build,
                        you will need to explicitly pass these patternsets as references:
                        <div style="border-width: 1px;">
                            <div>
<pre>&lt;ant ...&gt;
&lt;reference refid=&quot;clover.files&quot;/&gt;
&lt;reference refid=&quot;clover.useclass.files&quot;/&gt;
&lt;/ant&gt;
</pre>
                            </div>
                        </div>
                    </li>
                    <li>Excluded files are still registered in the Clover database:<br/>
                        Clover's database is built incrementally, and this can mean that files that are now excluded but
                        were previously included are still reported on. The simple workaround is to delete the Clover
                        database whenever you change the Clover includes or excludes. This is fixed in Clover 1.2.
                    </li>
                </ol>
            </div>


        </div>
    </div>
</div>
<div class="container">
    <footer>
        <p class="small text-muted">
            &copy; This document is a derivative work of
            <a href="https://confluence.atlassian.com/clover">Clover documentation</a>
            created by <a href="https://www.atlassian.com">Atlassian</a> and licensed under
            <a href="https://creativecommons.org/licenses/by/2.5/au/legalcode">CC 2.5 Australia</a>.
            Modifications by Marek Parfianowicz, under
            <a href="https://creativecommons.org/licenses/by/2.5/au/legalcode">CC 2.5 Australia</a>. </p>
    </footer>
</div>
<script src="../../../resources/js/bootstrap.bundle.min.js"></script>
</body>
</html>
