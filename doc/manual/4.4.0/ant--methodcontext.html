<!DOCTYPE html>
<html>
<head>
    <title>OpenClover 4.4 : methodContext</title>
    <link rel="stylesheet" href="../../../resources/css/bootstrap.min.css" type="text/css"/>
    <link rel="stylesheet" href="../../../resources/css/style.css" type="text/css"/>
    <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>

<body class="theme-default aui-theme-default">
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="../../../index"><img src="../../../resources/img/openclover_logo_white_40pt_alpha_with_icon.png" alt="OpenClover"/></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMainMenu" aria-controls="navbarMainMenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarMainMenu">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="../../../index">Overview</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../features">Features</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../downloads">Downloads</a></li>
                <li class="nav-item"><a class="nav-link active" aria-current="page" href="../../../documentation">Documentation</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../support">Support</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../blog">Blog</a></li>
                <!--<li><a href="../../../faq">FAQ</a></li>-->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="../../../about-us" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">About us</a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="../../../about-us">Development team</a></li>
                        <li><a class="dropdown-item" href="../../../privacy-policy">Privacy policy</a></li>
                        <li><a class="dropdown-item" href="../../../license">License information</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div id="page" class="container">
    <div id="main" class="aui-page-panel">
        <div id="main-header">
            <nav aria-label="breadcrumb" style="--bs-breadcrumb-divider: '&raquo;';">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="index.html">OpenClover 4.4</a>
                    </li>
                    <li class="breadcrumb-item"><span><a href="index--clover-documentation-home.html">Clover Documentation Home</a></span>
                    </li>
                    <li class="breadcrumb-item"><span><a href="ant--overview.html">Clover-for-Ant</a></span>
                    </li>
                    <li class="breadcrumb-item"><span><a href="ant--user-guide.html">Clover-for-Ant User&#39;s Guide</a></span>
                    </li>
                    <li class="breadcrumb-item"><span><a href="ant--task-reference.html">6. Ant Task Reference</a></span>
                    </li>
                    <li class="breadcrumb-item"><span><a href="ant--clover-setup.html">clover-setup</a></span>
                    </li>
                </ol>
            </nav>
            <h1 id="title-heading" class="pagetitle">
                <span id="title-text">
                    methodContext
                </span>
            </h1>
        </div>

        <div id="content" class="view">

            <div id="main-content">
                <h2>&lt;methodContext&gt;</h2>
                <p>Specifies a method Context definition. See <a href="ant--using-coverage-contexts.html">Using
                    Coverage Contexts</a> for more information.</p><h5>Parameters</h5>
                <div class="table-wrap">
                    <table>
                        <tbody>
                        <tr>
                            <th><p><strong>Attribute</strong></p></th>
                            <th><p><strong>Description</strong></p></th>
                            <th><p><strong>Required</strong></p></th>
                        </tr>
                        <tr>
                            <td><p>name</p></td>
                            <td><p>The name for this context. Must be unique, and not be one of the
                                reserved context names (see <a href="ant--using-coverage-contexts.html">Using
                                    Coverage Contexts</a>).</p></td>
                            <td><p>Yes.</p></td>
                        </tr>
                        <tr>
                            <td><p>regexp</p></td>
                            <td><p>A Perl 5 Regexp that defines the context. This regexp should
                                match the method signatures of methods you wish to include in this context. Note that
                                when method signatures are tested against this regexp, whitespace is normalized and
                                comments are ignored.</p></td>
                            <td><p>Yes.</p></td>
                        </tr>
                        <tr>
                            <td colspan="1">maxComplexity</td>
                            <td colspan="1">Match a method to this pattern if its cyclomatic
                                complexity is not greater than maxComplexity. In other words - all methods with
                                complexity &lt;= maxComplexity will be filtered out.
                            </td>
                            <td colspan="1">No.</td>
                        </tr>
                        <tr>
                            <td>maxStatements</td>
                            <td>Match a method to this pattern if its number of statements is not
                                greater than maxStatements. In other words - all methods with statements &lt;=
                                maxStaments will be filtered out.
                            </td>
                            <td>No.</td>
                        </tr>
                        <tr>
                            <td colspan="1">maxAggregatedComplexity</td>
                            <td colspan="1"><em><strong>Since 3.1.10.</strong></em> Match a method
                                to this pattern if its aggregated cyclomatic complexity is not greater than
                                maxAggregatedComplexity. In other words - all methods with aggregated complexity &lt;=
                                maxAggregatedComplexity will be filtered out. Aggregated complexity metric is a sum of
                                the method complexity and complexity of all anonymous inline classes declared in the
                                method.
                            </td>
                            <td colspan="1">No.</td>
                        </tr>
                        <tr>
                            <td colspan="1">maxAggregatedStatements</td>
                            <td colspan="1"><em><strong>Since 3.1.10.</strong></em> Match a method
                                to this pattern if its number of aggregated statements is not greater than
                                maxAggregatedStatements. In other words - all methods with aggregated statements &lt;=
                                maxAggregatedStaments will be filtered out. Aggregated statements metric is a sum of the
                                method statements and statements of all anonymous inline classes declared in the method.
                            </td>
                            <td colspan="1">No.</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <p> </p>
                <p><strong>What is the difference between maxComplexity and maxAggregatedComplexity or maxStatements and
                    maxAggregatedStatements?</strong></p>
                <p>Aggregated metrics calculate method statements/complexity including the code of all anonymous inline
                    classes declared inside the method. Thanks to this, it is possible to distinguish between a trivial
                    single-statement method like:</p>
                <div class="code panel pdl" style="border-width: 1px;">
                    <div class="codeContent panelContent pdl">
<pre>int getNumber() {
   return number;
}</pre>
                    </div>
                </div>
                <p>and a single-statement method which actually returns more complex data, like:</p>
                <div class="code panel pdl" style="border-width: 1px;">
                    <div class="codeContent panelContent pdl">
<pre>ActionListener getListener() {
   return new ActionListener() {
       public void actionPerformed(ActionEvent e) {
           System.out.println(&quot;statement #1&quot;);
           System.out.println(&quot;statement #2&quot;);
           System.out.println(&quot;statement #3&quot;);
       }
   };
}</pre>
                    </div>
                </div>
                <p> </p>
                <p>If you would use a method context filter with <em>maxStatements</em> attribute, like the following: </p>
                <div class="code panel pdl" style="border-width: 1px;">
                    <div class="codeContent panelContent pdl">
                        <pre data-syntaxhighlighter-params="brush: xml; gutter: false; theme: Confluence">&lt;methodContext name=&quot;trivial&quot; regexp=&quot;.*&quot; maxStatements=&quot;1&quot;&gt;</pre>
                    </div>
                </div>
                <p>then both <em>getNumber()</em> and <em>getListener()</em> methods would be filtered-out, because each
                    of them contains only one statement: &quot;return &lt;xxx&gt;&quot;.</p>
                <p> </p>
                <p>If you would use new <em>maxAggregatedStatements</em>, for instance:</p>
                <div class="code panel pdl" style="border-width: 1px;">
                    <div class="codeContent panelContent pdl">
                        <pre data-syntaxhighlighter-params="brush: xml; gutter: false; theme: Confluence">&lt;methodContext name=&quot;trivial&quot; regexp=&quot;.*&quot; maxAggregatedStatements=&quot;1&quot;&gt;</pre>
                    </div>
                </div>
                <p>then the <em>getNumber()</em> would be filtered-out and the <em>getListener()</em> method would
                    <strong>not</strong> be filtered out (because it contains 4 statements in total - 1 &quot;return&quot; statement from the method itself and 3 &quot;System.out.println()&quot; statements from anonymous
                    class).</p>
                <p> </p>
                <p><strong>Regular expression tip:</strong></p>
                <p>
                    <img class="emoticon emoticon-light-on" src="images/icons/emoticons/lightbulb_on.png" data-emoticon-name="light-on" alt="(lightbulb)"/> If you would like to filter-out all methods,
                    except those having a specific name, you could write a negative-look-ahead regular expression. For
                    example:</p>
                <div class="code panel pdl" style="border-width: 1px;">
                    <div class="codeContent panelContent pdl">
                        <pre data-syntaxhighlighter-params="brush: html/xml; gutter: false; theme: Confluence">&lt;methodContext name=&quot;trivial&quot; regexp=&quot;^(?!.*(getRunnable|getListener)).*$&quot; maxStatements=&quot;1&quot;/&gt;</pre>
                    </div>
                </div>
                <p>will filter-out all methods having not more than one statement, except those which are named <em>getRunnable</em>
                    or <em>getListener. </em></p>
                <p> </p>
            </div>


        </div>
    </div>
</div>
<div class="container">
    <footer>
        <p class="small text-muted">
            &copy; This document is a derivative work of
            <a href="https://confluence.atlassian.com/clover">Clover documentation</a>
            created by <a href="https://www.atlassian.com">Atlassian</a> and licensed under
            <a href="https://creativecommons.org/licenses/by/2.5/au/legalcode">CC 2.5 Australia</a>.
            Modifications by Marek Parfianowicz, under
            <a href="https://creativecommons.org/licenses/by/2.5/au/legalcode">CC 2.5 Australia</a>. </p>
    </footer>
</div>
<script src="../../../resources/js/bootstrap.bundle.min.js"></script>
</body>
</html>
