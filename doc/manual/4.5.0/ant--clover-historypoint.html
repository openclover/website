<!DOCTYPE html>
<html>
<head>
    <title>OpenClover 4.5 : clover-historypoint</title>
    <link rel="stylesheet" href="../../../resources/css/bootstrap-5.3.2.min.css" type="text/css"/>
    <link rel="stylesheet" href="../../../resources/css/prism.min.css" type="text/css"/>
    <link rel="stylesheet" href="../../../resources/css/style.css" type="text/css"/>
    <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>

<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
    <div class="container">
        <a class="navbar-brand" href="../../../index"><img src="../../../resources/img/openclover_logo_white_40pt_alpha_with_icon.png" alt="OpenClover"/></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMainMenu" aria-controls="navbarMainMenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarMainMenu">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="../../../index">Overview</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../features">Features</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../downloads">Downloads</a></li>
                <li class="nav-item"><a class="nav-link active" aria-current="page" href="../../../documentation">Documentation</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../support">Support</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../blog">Blog</a></li>
                <!--<li><a href="../../../faq">FAQ</a></li>-->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="../../../about-us" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">About ...</a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="../../../about-us">Development team</a></li>
                        <li><a class="dropdown-item" href="../../../privacy-policy">Privacy policy</a></li>
                        <li><a class="dropdown-item" href="../../../license">License information</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div id="page" class="container">
    <div id="main">
        <div id="main-header">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item">
                        <a href="index.html">OpenClover 4.5</a>
                    </li>
                    <li class="breadcrumb-item"><span><a href="index--clover-documentation-home.html">Clover Documentation Home</a></span>
                    </li>
                    <li class="breadcrumb-item"><span><a href="ant--overview.html">Clover-for-Ant</a></span>
                    </li>
                    <li class="breadcrumb-item"><span><a href="ant--user-guide.html">Clover-for-Ant User&#39;s Guide</a></span>
                    </li>
                    <li class="breadcrumb-item"><span><a href="ant--task-reference.html">6. Ant Task Reference</a></span>
                    </li>
                </ol>
            </nav>
        </div>

        <h1 id="title-heading" class="pagetitle">
            clover-historypoint </h1>

        <div id="content" class="view">
            <div id="main-content">
                <h3>Description</h3>
                <p>The <code>&lt;clover-historypoint&gt;</code> task records a coverage history point for use in
                    <a href="general--understanding-reports-historical.html">historical coverage reports</a>. The basic nesting of elements within the
                    <code>&lt;clover-historypoint&gt;</code> task is as follows:</p>
                <div class="panel" style="background-color: white;border-style: dashed;border-width: 1px;">
                    <div class="panelContent" style="background-color: white;">
                        <p>&lt;clover-historypoint&gt;<br/>     &lt;<a href="#clover-historypoint-Fileset">fileset</a>/&gt;<br/>
                                &lt;<a href="#clover-historypoint-Testsources">testsources</a>/&gt;<br/>     &lt;<a href="#clover-historypoint-Testresults">testresults</a>/&gt;<br/> &lt;/clover-historypoint&gt;
                        </p>
                    </div>
                </div>
                <h3>Parameters</h3>
                <div>
                    <table class="table table-striped">
                        <tbody>
                        <tr>
                            <th>Attribute</th>
                            <th>Description</th>
                            <th>Required</th>
                        </tr>
                        <tr>
                            <td>date</td>
                            <td>Specifies an override date for this history point. This allows
                                for generation of past historical data for a project.</td>
                            <td>No; defaults to the timestamp of the current coverage data.</td>
                        </tr>
                        <tr>
                            <td>dateFormat</td>
                            <td>
                                <p>Specifies a date format string for parsing the &quot;<code>date</code>&quot; attribute. The string must contain a valid java.text.SimpleDateFormat pattern.
                                </p></td>
                            <td>No; defaults to java.text.SimpleDateFormat
                                using the default pattern and date format symbols for the default locale.</td>
                        </tr>
                        <tr>
                            <td>filter</td>
                            <td><p>A comma or space separated list of contexts to exclude when
                                generating the historypoint. See <a href="ant--using-coverage-contexts.html">Using
                                    Coverage Contexts</a>.</p></td>
                            <td>No.</td>
                        </tr>
                        <tr>
                            <td>historyDir</td>
                            <td>The directory where historical data is stored.</td>
                            <td>Yes.</td>
                        </tr>
                        <tr>
                            <td>includeFailedTestCoverage</td>
                            <td><p>If true, all coverage attributed to a test that failed will be
                                included.  <img src="images/icons/emoticons/information.png" data-emoticon-name="information" alt="(info)"/> If history-point
                                generation is taking a long time, you can speed up the performance of your tests by
                                setting this value to '<code>true</code>'.</p></td>
                            <td><p>No; defaults to &quot;<code>false</code>&quot;</p></td>
                        </tr>
                        <tr>
                            <td>initstring</td>
                            <td><p>The <code>initstring</code> of the coverage database.</p></td>
                            <td><p>No; if not specified here, Clover will look in the default
                                location (<code>${basedir}/.clover</code>). If you have specified an
                                <code>initstring</code> on the <code>&lt;<a href="ant--clover-setup.html">clover-setup</a>&gt;</code>
                                task, you must ensure that <code>&lt;<a href="ant--clover-setup.html">clover-setup</a>&gt;</code> is called prior to
                                the execution of this task.</p></td>
                        </tr>
                        <tr>
                            <td>overwrite</td>
                            <td>If true, existing history point for the same date will be
                                automatically overwritten.</td>
                            <td><p>No; defaults to &quot;<code>false</code>&quot;.</p></td>
                        </tr>
                        <tr>
                            <td>property</td>
                            <td>If set, the name of the property to hold the absolute path name
                                of the history point file that was created by this task.</td>
                            <td>No.</td>
                        </tr>
                        <tr>
                            <td>span</td>
                            <td><p>Specifies how far back in time to include coverage recordings
                                from since the last Clover build. See <a href="ant--using-spans.html">Using
                                    Spans</a>.</p></td>
                            <td>No; default includes &quot;all coverage data found&quot;.</td>
                        </tr>
                        <tr>
                            <td>srcLevel</td>
                            <td><p>Prevents excessive Clover data from being loaded when generating
                                a history point. This should be used for large projects, where saving a full source
                                level history point is taking a long time.
                                <img src="images/icons/emoticons/information.png" data-emoticon-name="information" alt="(info)"/> Clover's history reports
                                currently do not use line level information. This means there is no loss of
                                functionality when srcLevel=&quot;false&quot;. In the future however, line level
                                information may be used.</p></td>
                            <td><p>No; defaults to &quot;<code>false</code>&quot;</p></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <h3>Nested elements of <code>&lt;clover-historypoint&gt;</code>
                </h3>
                <p><span id="clover-historypoint-Fileset"></span> </p><h4 id="clover-historypoint-&lt;fileset&gt;">&lt;fileset&gt;</h4>
                <p><code>&lt;clover-historypoint&gt;</code> supports nested filesets which control which source files
                    are to be included in a historypoint. Only classes which are from the source files in the fileset
                    are included in the history point. This allows history points to focus on certain packages or
                    particular classes. By using Ant's fileset selectors, more complicated selections are possible, such
                    as the files which have recently changed, or files written by a particular author.</p>
                <p><span id="clover-historypoint-Testsources"></span> </p><h4 id="clover-historypoint-&lt;testsources&gt;">&lt;testsources&gt;</h4>
                <p><code>&lt;testsources&gt;</code> is an
                    <a href="https://ant.apache.org/manual/Types/fileset.html" rel="nofollow">Ant fileset</a> that can be used to
                    distinguish test source code from application source code. All files included in the fileset will be
                    displayed in the separate 'Test' node of the coverage tree. If omitted, Clover's default test
                    detection algorithm will be used to distinguish test sources.</p>
                <p><span id="clover-historypoint-Testresults"></span></p><h4 id="clover-historypoint-&lt;testresults&gt;">&lt;testresults&gt;</h4>
                <p><code>&lt;testresults&gt;</code> is an optional
                    <a href="https://ant.apache.org/manual/Types/fileset.html" rel="nofollow">Ant fileset</a> that defines the
                    location of all test result XML files for your project. Currently, these will be used by <code>&lt;clover-historypoint&gt;</code>
                    to determine coverage data if the <code>includeFailedTestCoverage</code> flag is set to false.</p>
                <p><code>&lt;testresults&gt;</code> is generally not required by most users, as the built-in test
                    results will provide all required information in the majority of cases. For more details please see
                    '<a href="ant--test-results-and-per-test-coverage.html">Advanced Usage</a>'.</p>
                <h3>Examples</h3>
                <pre><code class="language-xml">&lt;clover-historypoint historyDir=&quot;clover-historical&quot;/&gt;</code></pre>
                <p>Records a history point into the directory <code>PROJECT_DIR/clover-historical</code>.</p>
                <pre><code class="language-xml">&lt;clover-historypoint historyDir=&quot;clover-historical&quot;
    date=&quot;010724120856&quot;
    dateFormat=&quot;yyMMddHHmmss&quot;/&gt;</code></pre>
                <p>Records a history point, with the effective date of 24/07/01 12:08:56.</p>
                <pre><code class="language-xml">&lt;clover-historypoint historydir=&quot;history&quot;
                     filter=&quot;toString&quot;
                     includeFailedTestCoverage=&quot;false&quot;
                     property=&quot;clover.historypoint.path&quot;&gt;
&lt;/clover-historypoint&gt;</code></pre>
                <p>Records a history point that excludes all test coverage that is attributed to a failed test; <code>clover.historypoint.path</code>
                    will contain the absolute file path of the history point that was created.</p>
                <pre><code class="language-xml">&lt;clover-historypoint historyDir=&quot;clover-historical&quot;&gt;
	&lt;testsources dir=&quot;src&quot; include name=&quot;**/*Test.java&quot;/&gt;
&lt;/clover-historypoint&gt;</code></pre>
                <p>Records a history point that recognizes classes in the &quot;src&quot; directory as tests.</p>
            </div>


        </div>
    </div>
</div>
<div class="container">
    <footer>
        <p class="small text-muted">
            &copy; This document is a derivative work of
            <a href="https://confluence.atlassian.com/clover">Clover documentation</a>
            created by <a href="https://www.atlassian.com">Atlassian</a> and licensed under
            <a href="https://creativecommons.org/licenses/by/2.5/au/legalcode">CC 2.5 Australia</a>.
            Modifications by Marek Parfianowicz, under
            <a href="https://creativecommons.org/licenses/by/2.5/au/legalcode">CC 2.5 Australia</a>. </p>
    </footer>
</div>
<script src="../../../resources/js/bootstrap.bundle-5.3.2.min.js"></script>
<script src="../../../resources/js/prism.min.js"></script>
</body>
</html>
