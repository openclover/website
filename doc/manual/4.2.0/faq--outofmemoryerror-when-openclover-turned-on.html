<!DOCTYPE html>
<html>
<head>
    <title>OpenClover 4.2 : Why do I get an java.lang.OutOfMemoryError when compiling with Clover turned on?</title>
    <link rel="stylesheet" href="../../../resources/css/bootstrap.min.css" type="text/css"/>
<link rel="stylesheet" href="../../../resources/css/style.css" type="text/css"/>
    <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>

<body class="theme-default aui-theme-default">
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="../../../index"><img src="../../../resources/img/openclover_logo_white_40pt_alpha_with_icon.png" alt="OpenClover"/></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMainMenu" aria-controls="navbarMainMenu" aria-expanded="false" aria-label="Toggle navigation">
  <span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarMainMenu">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="../../../index">Overview</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../features">Features</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../downloads">Downloads</a></li>
                <li class="nav-item"><a class="nav-link active" aria-current="page" href="../../../documentation">Documentation</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../support">Support</a></li>
                <li class="nav-item"><a class="nav-link" href="../../../blog">Blog</a></li>
                <!--<li><a href="../../../faq">FAQ</a></li>-->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="../../../about-us" id="navbarDropdown"
                       role="button" data-bs-toggle="dropdown" aria-expanded="false">About us</a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="../../../about-us">Development team</a></li>
                        <li><a class="dropdown-item" href="../../../privacy-policy">Privacy policy</a></li>
                        <li><a class="dropdown-item" href="../../../license">License information</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div id="page" class="container">
    <div id="main" class="aui-page-panel">
        <div id="main-header">
            <nav aria-label="breadcrumb" style="--bs-breadcrumb-divider: '&raquo;';"><ol class="breadcrumb">
                    <li class="first">
                        <span><a href="index.html">OpenClover 4.2</a></span>
                    </li>
                    <li>
                        <span><a href="index--clover-documentation-home.html">Clover Documentation Home</a></span>
                    </li>
                    <li>
                        <span><a href="faq--openclover.html">Clover FAQ</a></span>
                    </li>
                </ol></nav>
            <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Why do I get an java.lang.OutOfMemoryError when compiling with Clover turned on?
                        </span>
            </h1>
        </div>

        <div id="content" class="view">

            <div id="main-content">
                <p><strong>Q: Why do I get an java.lang.OutOfMemoryError when compiling with Clover turned on?</strong>
                </p>

                <p><strong>A:</strong> Instrumenting with Clover increases the amount of memory that the compiler
                    requires in order to compile.To solve this problem, you need to give the compiler more memory.
                    Increasing the memory available to the compiler depends on how you are launching the compiler:</p>

                <ul>
                    <li>If you are using the &quot;in-process&quot; compiler (the <code>&lt;javac&gt;</code> task with
                        the <code>&quot;fork&quot;</code> attribute set to <code>false</code>), you will need to give
                        Ant itself more memory to play with. To do this, use the ANT_OPTS environment variable to set
                        the heap size of the JVM used to run Ant:
                    </li>
                </ul>


                <div style="border-width: 1px;">
                    <div>
<pre>export ANT_OPTS=-Xmx256m
</pre>
                    </div>
                </div>

                <ul>
                    <li>If you are using an external compiler (the &lt;javac&gt; task with the &quot;fork&quot;
                        attribute set to true), you can set the <code>memoryInitialSize</code> and <code>memoryMaximumSize</code>
                        attributes of the <code>javac</code> task:
                    </li>
                </ul>


                <div style="border-width: 1px;">
                    <div>
<pre>&lt;javac srcdir=&quot;${src}&quot;
destdir=&quot;${build}&quot;
fork=&quot;true&quot;
memoryInitialSize=&quot;128m&quot;
memoryMaximumSize=&quot;256m&quot;/&gt;
</pre>
                    </div>
                </div>

                <ul>
                    <li>If you are using Intellij, increase the Maximum heap size on the Java Compiler.</li>
                </ul>


                <p><em>Screenshot: Adjusting Heap Size in IntelliJ IDEA</em><br/>
                    <span class="confluence-embedded-file-wrapper"><img
                            class="confluence-embedded-image confluence-content-image-border"
                            src="attachments/79986966/184516610.png" data-image-src="attachments/79986966/184516610.png"
                            data-unresolved-comment-count="0" data-linked-resource-id="184516610"
                            data-linked-resource-version="1" data-linked-resource-type="attachment"
                            data-linked-resource-default-alias="Clover_2.5_IntelliJ_Heap_Size.png"
                            data-base-url="https://confluence.atlassian.com"
                            data-linked-resource-content-type="image/png" data-linked-resource-container-id="79986966"
                            data-linked-resource-container-version="5"></span></p>
            </div>

        </div>
    </div>
</div>
<div class="container">
    <footer>
        <p class="small text-muted">
            &copy; This document is a derivative work of
            <a href="https://confluence.atlassian.com/clover">Clover documentation</a>
            created by <a href="https://www.atlassian.com">Atlassian</a> and licensed under
            <a href="https://creativecommons.org/licenses/by/2.5/au/legalcode">CC 2.5 Australia</a>.
            Modifications by Marek Parfianowicz, under
            <a href="https://creativecommons.org/licenses/by/2.5/au/legalcode">CC 2.5 Australia</a>.
        </p>
    </footer>
</div>
<script src="../../../resources/js/bootstrap.bundle.min.js"></script>
</body>
</html>
