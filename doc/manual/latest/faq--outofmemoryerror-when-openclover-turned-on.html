<!DOCTYPE html>
<html>
<head>
    <title>OpenClover 4.5 : Why do I get an java.lang.OutOfMemoryError when compiling with Clover turned on?</title>
    <link rel="stylesheet" href="../../../resources/css/bootstrap.min.css" type="text/css"/>
    <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</head>

<body class="theme-default aui-theme-default">
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../../index"><img src="../../../resources/img/openclover_logo_white_40pt_alpha_with_icon.png" alt="OpenClover"/></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li><a href="../../../index">Overview</a></li>
                <li><a href="../../../features">Features</a></li>
                <li><a href="../../../downloads">Downloads</a></li>
                <li class="active"><a href="../../../documentation">Documentation</a></li>
                <li><a href="../../../support">Support</a></li>
                <li><a href="../../../blog">Blog</a></li>
                <!--<li><a href="../../../faq">FAQ</a></li>-->
                <li><a href="../../../about-us">About us</a></li>
            </ul>
        </div>
    </div>
</nav>

<div id="page" class="container">
    <div id="main" class="aui-page-panel">
        <div id="main-header">
            <div id="breadcrumb-section">
                <ol id="breadcrumbs">
                    <li class="first">
                        <span><a href="index.html">OpenClover 4.5</a></span>
                    </li>
                    <li>
                        <span><a href="index--clover-documentation-home.html">Clover Documentation Home</a></span>
                    </li>
                    <li>
                        <span><a href="faq--openclover.html">Clover FAQ</a></span>
                    </li>
                </ol>
            </div>
            <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Why do I get an java.lang.OutOfMemoryError when compiling with Clover turned on?
                        </span>
            </h1>
        </div>

        <div id="content" class="view">

            <div id="main-content" class="wiki-content group">
                <p><strong>Q: Why do I get an java.lang.OutOfMemoryError when compiling with Clover turned on?</strong>
                </p>

                <p><strong>A:</strong> Instrumenting with Clover increases the amount of memory that the compiler
                    requires in order to compile.To solve this problem, you need to give the compiler more memory.
                    Increasing the memory available to the compiler depends on how you are launching the compiler:</p>

                <ul>
                    <li>If you are using the &quot;in-process&quot; compiler (the <code>&lt;javac&gt;</code> task with
                        the <code>&quot;fork&quot;</code> attribute set to <code>false</code>), you will need to give
                        Ant itself more memory to play with. To do this, use the ANT_OPTS environment variable to set
                        the heap size of the JVM used to run Ant:
                    </li>
                </ul>


                <div class="preformatted panel" style="border-width: 1px;">
                    <div class="preformattedContent panelContent">
<pre>export ANT_OPTS=-Xmx256m
</pre>
                    </div>
                </div>

                <ul>
                    <li>If you are using an external compiler (the &lt;javac&gt; task with the &quot;fork&quot;
                        attribute set to true), you can set the <code>memoryInitialSize</code> and <code>memoryMaximumSize</code>
                        attributes of the <code>javac</code> task:
                    </li>
                </ul>


                <div class="preformatted panel" style="border-width: 1px;">
                    <div class="preformattedContent panelContent">
<pre>&lt;javac srcdir=&quot;${src}&quot;
destdir=&quot;${build}&quot;
fork=&quot;true&quot;
memoryInitialSize=&quot;128m&quot;
memoryMaximumSize=&quot;256m&quot;/&gt;
</pre>
                    </div>
                </div>

                <ul>
                    <li>If you are using Intellij, increase the Maximum heap size on the Java Compiler.</li>
                </ul>


                <p><em>Screenshot: Adjusting Heap Size in IntelliJ IDEA</em><br/>
                    <span class="confluence-embedded-file-wrapper"><img
                            class="confluence-embedded-image confluence-content-image-border"
                            src="attachments/79986966/184516610.png" data-image-src="attachments/79986966/184516610.png"
                            data-unresolved-comment-count="0" data-linked-resource-id="184516610"
                            data-linked-resource-version="1" data-linked-resource-type="attachment"
                            data-linked-resource-default-alias="Clover_2.5_IntelliJ_Heap_Size.png"
                            data-base-url="https://confluence.atlassian.com"
                            data-linked-resource-content-type="image/png" data-linked-resource-container-id="79986966"
                            data-linked-resource-container-version="5"></span></p>
            </div>

        </div>
    </div>
</div>
<div class="container">
    <footer>
        <p class="small text-muted">
            &copy; This document is a derivative work of
            <a href="https://confluence.atlassian.com/clover">Clover documentation</a>
            created by <a href="https://www.atlassian.com">Atlassian</a> and licensed under
            <a href="https://creativecommons.org/licenses/by/2.5/au/legalcode">CC 2.5 Australia</a>.
            Modifications by Marek Parfianowicz, under
            <a href="https://creativecommons.org/licenses/by/2.5/au/legalcode">CC 2.5 Australia</a>.
        </p>
    </footer>
</div>
<script src="../../../resources/js/bootstrap.bundle.min.js"></script>
</body>
</html>
